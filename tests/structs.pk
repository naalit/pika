let Vec3 = sig
    let x : I32
    let y : I32
    let z : I32

let up : Vec3 = struct
    let y = 1
    let z = 0
    let x = 0

# Making sure unification ignores order
let AlsoVec3 = sig
    let x : I32
    let z : I32
    let y : I32
let q : AlsoVec3 = up

# A test of dependent records i.e. sigma types
let Any = sig
    let T : Type
    let x : T
let three : Any = struct
    let T = I32
    let x = 3
# Making sure unification works with dependent records
let AlsoAny = sig
    let T : Type
    let x : T
let also_three : AlsoAny = three

fun print_vec3 (v : Vec3) with IO = do
    puts "{\n\t"
    print (v.x)
    puts "\t"
    print (v.y)
    puts "\t"
    print (v.z)
    puts "}\n"

fun main () with IO = print_vec3 up