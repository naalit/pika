eff Console of
  Print I32 : ()
  Read () : I32
end

fun f (_:()) : () with Console = Console.Print (Console.Read ())

fun greet (b: Bool) : () with Console = do
  Console.Print 1
  val name : I32 = if b then Console.Read () else 12
  Console.Print name
end

fun other (_:()) = greet True

fun maybe_raise (b: Bool) : () with Console = if b then Console.Print 3 else ()

# fun main () : () = do
#   fun handle (x : () with Console) : () = case x of
#     () => ()
#     eff (Console.Print _) k => handle (k ()?)
#     eff Console.Read k => handle (k 12?)
#   end
#
#   handle (greet ()?)
# end
