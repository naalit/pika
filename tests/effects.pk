eff Console of
  Print I32 : ()
  Read () : I32

fun f () : () with Console = Console.Print (Console.Read ())

fun greet (b: Bool) : () with Console = do
  Console.Print 1
  let name : I32 = if b then Console.Read () else 12
  Console.Print name

fun other () with Console = greet True

fun maybe_raise (b: Bool) : () with Console = if b then Console.Print 3 else ()

fun something (f: () -> () with Console) with Console = f ()
fun something2 () with Console = do
  something other

fun main () : () = catch greet True of
  () => ()
  eff (Console.Print _) k => k ()
  eff (Console.Read ()) k => k 12
